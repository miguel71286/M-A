{"ast":null,"code":"var _jsxFileName = \"/Users/miguelangelmanzano/Desktop/CODES M-A/React-Mongo/Frontend/src/pages/NuevoDestino.js\",\n    _s = $RefreshSig$();\n\nimport { React, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport Card from '../components/Card';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst NuevoDestino = props => {\n  _s();\n\n  const {\n    tieneAcceso,\n    datos\n  } = props;\n  const {\n    register,\n    handleSubmit,\n    setValue,\n    formState: {\n      errors\n    }\n  } = useForm();\n\n  const onSubmit = async data => {\n    await axios.post('http://localhost:5000/api/destinos/', {\n      nombre: data.nombre,\n      descripcion: data.descripcion,\n      direccion: data.direccion,\n      creador: datos.userId,\n      // del prop enviado desde App.js extraemos el userId (en datos están todos los datos del token recibido desde el servidor cuando el usuario entró en su cuenta)\n      loacalizacion: {}\n    }, {\n      headers: {\n        Authorization: 'Bearer ' + datos.token // En los headers van 'Bearer ' + token recibido\n\n      }\n    }).then(response => {\n      console.log('Todo correcto', response.data);\n    }).catch(error => {\n      console.log(error.response.data);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    className: \"authentication\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Datos del destino\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"card\",\n      onSubmit: handleSubmit(onSubmit),\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Nombre\",\n        ...register('nombre', {\n          required: true,\n          message: 'Requerido'\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Descripci\\xF3n\",\n        ...register('descripcion', {\n          required: true,\n          message: 'Campo requerido'\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Direcci\\xF3n\",\n        ...register('direccion', {\n          required: true\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"nombreCreador\",\n        placeholder: \"Nombre Creador\",\n        ...register('creador', {\n          required: true\n        }, 'Campo requerido')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Localizaci\\xF3n\",\n        ...register('localizacion')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Guardar datos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 3\n  }, this);\n};\n\n_s(NuevoDestino, \"oXlzY+1p4fdeobxUAEQHSZyM5Iw=\", false, function () {\n  return [useForm];\n});\n\n_c = NuevoDestino;\nexport default NuevoDestino;\n\nvar _c;\n\n$RefreshReg$(_c, \"NuevoDestino\");","map":{"version":3,"sources":["/Users/miguelangelmanzano/Desktop/CODES M-A/React-Mongo/Frontend/src/pages/NuevoDestino.js"],"names":["React","useState","useForm","Card","axios","NuevoDestino","props","tieneAcceso","datos","register","handleSubmit","setValue","formState","errors","onSubmit","data","post","nombre","descripcion","direccion","creador","userId","loacalizacion","headers","Authorization","token","then","response","console","log","catch","error","required","message"],"mappings":"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","sourcesContent":["import { React, useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport Card from '../components/Card';\r\nimport axios from 'axios';\r\n\r\nconst NuevoDestino = (props) => {\r\n\tconst { tieneAcceso, datos } = props;\r\n\r\n\tconst {\r\n\t\tregister,\r\n\t\thandleSubmit,\r\n\t\tsetValue,\r\n\t\tformState: { errors },\r\n\t} = useForm();\r\n\r\n\tconst onSubmit = async (data) => { \r\n\t\tawait axios\r\n\t\t\t.post(\r\n\t\t\t\t'http://localhost:5000/api/destinos/',\r\n\t\t\t\t{\r\n\t\t\t\t\tnombre: data.nombre,\r\n\t\t\t\t\tdescripcion: data.descripcion,\r\n\t\t\t\t\tdireccion: data.direccion,\r\n\t\t\t\t\tcreador: datos.userId, // del prop enviado desde App.js extraemos el userId (en datos están todos los datos del token recibido desde el servidor cuando el usuario entró en su cuenta)\r\n\t\t\t\t\tloacalizacion: {},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: 'Bearer ' + datos.token, // En los headers van 'Bearer ' + token recibido\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((response) => {\r\n\t\t\t\tconsole.log('Todo correcto', response.data);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.log(error.response.data);\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Card className='authentication'>\r\n\t\t\t<h2>Datos del destino</h2>\r\n\t\t\t<form className='card' onSubmit={handleSubmit(onSubmit)}>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tplaceholder='Nombre'\r\n\t\t\t\t\t{...register('nombre', { required: true, message: 'Requerido' })}\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tplaceholder='Descripción'\r\n\t\t\t\t\t{...register('descripcion', {\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: 'Campo requerido',\r\n\t\t\t\t\t})}\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tplaceholder='Dirección'\r\n\t\t\t\t\t{...register('direccion', { required: true })}\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='nombreCreador'\r\n\t\t\t\t\tplaceholder='Nombre Creador'\r\n\t\t\t\t\t{...register('creador', { required: true }, 'Campo requerido')}\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tplaceholder='Localización'\r\n\t\t\t\t\t{...register('localizacion')}\r\n\t\t\t\t/>\r\n\t\t\t\t<button type='submit'>Guardar datos</button>\r\n\t\t\t</form>\r\n\t\t</Card>\r\n\t);\r\n};\r\n\r\nexport default NuevoDestino;\r\n"]},"metadata":{},"sourceType":"module"}