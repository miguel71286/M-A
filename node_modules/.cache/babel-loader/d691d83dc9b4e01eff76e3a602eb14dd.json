{"ast":null,"code":"import _objectSpread from\"/Users/miguelangelmanzano/Desktop/CODES M-A/React-Mongo/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/miguelangelmanzano/Desktop/CODES M-A/React-Mongo/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/miguelangelmanzano/Desktop/CODES M-A/React-Mongo/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{React,useState}from'react';import{useForm}from'react-hook-form';import Card from'../components/Card';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NuevoDestino=function NuevoDestino(props){var tieneAcceso=props.tieneAcceso,datos=props.datos;var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,setValue=_useForm.setValue,errors=_useForm.formState.errors;var onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(process.env.REACT_APP_BACKEND_URL+'/destinos',{nombre:data.nombre,descripcion:data.descripcion,direccion:data.direccion,creador:data.nombreCreador,// del prop enviado desde App.js extraemos el userId (en datos están todos los datos del token recibido desde el servidor cuando el usuario entró en su cuenta)\nloacalizacion:{}},{headers:{Authorization:'Bearer '+datos.token// En los headers van 'Bearer ' + token recibido\n}}).then(function(response){console.log('Todo correcto',response.data);}).catch(function(error){console.log(error.response.data);});case 2:case\"end\":return _context.stop();}}},_callee);}));return function onSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Card,{className:\"authentication\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Datos del destino\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"card\",onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",placeholder:\"Nombre\"},register('nombre',{required:true,message:'Requerido'}))),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",placeholder:\"Descripci\\xF3n\"},register('descripcion',{required:true,message:'Campo requerido'}))),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",placeholder:\"Direcci\\xF3n\"},register('direccion',{required:true}))),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",placeholder:\"Nombre Creador\"},register('nombreCreador',{required:true},'Campo requerido'))),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",placeholder:\"Localizaci\\xF3n\"},register('localizacion'))),/*#__PURE__*/_jsx(\"button\",{className:\"btn-form\",type:\"submit\",children:\"Guardar datos\"})]})]})});};export default NuevoDestino;","map":{"version":3,"sources":["/Users/miguelangelmanzano/Desktop/CODES M-A/React-Mongo/Frontend/src/pages/NuevoDestino.js"],"names":["React","useState","useForm","Card","axios","NuevoDestino","props","tieneAcceso","datos","register","handleSubmit","setValue","errors","formState","onSubmit","data","post","process","env","REACT_APP_BACKEND_URL","nombre","descripcion","direccion","creador","nombreCreador","loacalizacion","headers","Authorization","token","then","response","console","log","catch","error","required","message"],"mappings":"iiBAAA,OAASA,KAAT,CAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,OAAT,KAAwB,iBAAxB,CACA,MAAOC,CAAAA,IAAP,KAAiB,oBAAjB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,IACvBC,CAAAA,WADuB,CACAD,KADA,CACvBC,WADuB,CACVC,KADU,CACAF,KADA,CACVE,KADU,cAQ3BN,OAAO,EARoB,CAI9BO,QAJ8B,UAI9BA,QAJ8B,CAK9BC,YAL8B,UAK9BA,YAL8B,CAM9BC,QAN8B,UAM9BA,QAN8B,CAOjBC,MAPiB,UAO9BC,SAP8B,CAOjBD,MAPiB,CAU/B,GAAME,CAAAA,QAAQ,0FAAG,iBAAOC,IAAP,wIACVX,CAAAA,KAAK,CACTY,IADI,CAEJC,OAAO,CAACC,GAAR,CAAYC,qBAAZ,CAAoC,WAFhC,CAGJ,CACCC,MAAM,CAAEL,IAAI,CAACK,MADd,CAECC,WAAW,CAAEN,IAAI,CAACM,WAFnB,CAGCC,SAAS,CAAEP,IAAI,CAACO,SAHjB,CAICC,OAAO,CAAER,IAAI,CAACS,aAJf,CAI8B;AAC7BC,aAAa,CAAE,EALhB,CAHI,CAUJ,CACCC,OAAO,CAAE,CACRC,aAAa,CAAE,UAAYnB,KAAK,CAACoB,KAAO;AADhC,CADV,CAVI,EAgBJC,IAhBI,CAgBC,SAACC,QAAD,CAAc,CACnBC,OAAO,CAACC,GAAR,CAAY,eAAZ,CAA6BF,QAAQ,CAACf,IAAtC,EACA,CAlBI,EAmBJkB,KAnBI,CAmBE,SAACC,KAAD,CAAW,CACjBH,OAAO,CAACC,GAAR,CAAYE,KAAK,CAACJ,QAAN,CAAef,IAA3B,EACA,CArBI,CADU,uDAAH,kBAARD,CAAAA,QAAQ,4CAAd,CAyBA,mBACC,kCACA,MAAC,IAAD,EAAM,SAAS,CAAC,gBAAhB,wBACC,yCADD,cAEC,cAAM,SAAS,CAAC,MAAhB,CAAuB,QAAQ,CAAEJ,YAAY,CAACI,QAAD,CAA7C,wBACC,4BACC,IAAI,CAAC,MADN,CAEC,WAAW,CAAC,QAFb,EAGKL,QAAQ,CAAC,QAAD,CAAW,CAAE0B,QAAQ,CAAE,IAAZ,CAAkBC,OAAO,CAAE,WAA3B,CAAX,CAHb,EADD,cAMC,4BACC,IAAI,CAAC,MADN,CAEC,WAAW,CAAC,gBAFb,EAGK3B,QAAQ,CAAC,aAAD,CAAgB,CAC3B0B,QAAQ,CAAE,IADiB,CAE3BC,OAAO,CAAE,iBAFkB,CAAhB,CAHb,EAND,cAcC,4BACC,IAAI,CAAC,MADN,CAEC,WAAW,CAAC,cAFb,EAGK3B,QAAQ,CAAC,WAAD,CAAc,CAAE0B,QAAQ,CAAE,IAAZ,CAAd,CAHb,EAdD,cAmBC,4BACC,IAAI,CAAC,MADN,CAEC,WAAW,CAAC,gBAFb,EAGK1B,QAAQ,CAAC,eAAD,CAAkB,CAAE0B,QAAQ,CAAE,IAAZ,CAAlB,CAAsC,iBAAtC,CAHb,EAnBD,cAwBC,4BACC,IAAI,CAAC,MADN,CAEC,WAAW,CAAC,iBAFb,EAGK1B,QAAQ,CAAC,cAAD,CAHb,EAxBD,cA6BC,eAAQ,SAAS,CAAC,UAAlB,CAA6B,IAAI,CAAC,QAAlC,2BA7BD,GAFD,GADA,EADD,CAsCA,CAzED,CA2EA,cAAeJ,CAAAA,YAAf","sourcesContent":["import { React, useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport Card from '../components/Card';\r\nimport axios from 'axios';\r\n\r\nconst NuevoDestino = (props) => {\r\n\tconst { tieneAcceso, datos } = props;\r\n\r\n\tconst {\r\n\t\tregister,\r\n\t\thandleSubmit,\r\n\t\tsetValue,\r\n\t\tformState: { errors },\r\n\t} = useForm();\r\n\r\n\tconst onSubmit = async (data) => { \r\n\t\tawait axios\r\n\t\t\t.post(\r\n\t\t\t\tprocess.env.REACT_APP_BACKEND_URL + '/destinos',\r\n\t\t\t\t{\r\n\t\t\t\t\tnombre: data.nombre,\r\n\t\t\t\t\tdescripcion: data.descripcion,\r\n\t\t\t\t\tdireccion: data.direccion,\r\n\t\t\t\t\tcreador: data.nombreCreador, // del prop enviado desde App.js extraemos el userId (en datos están todos los datos del token recibido desde el servidor cuando el usuario entró en su cuenta)\r\n\t\t\t\t\tloacalizacion: {},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: 'Bearer ' + datos.token, // En los headers van 'Bearer ' + token recibido\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((response) => {\r\n\t\t\t\tconsole.log('Todo correcto', response.data);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.log(error.response.data);\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t<Card className='authentication'>\r\n\t\t\t<h2>Datos del destino</h2>\r\n\t\t\t<form className='card' onSubmit={handleSubmit(onSubmit)}>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tplaceholder='Nombre'\r\n\t\t\t\t\t{...register('nombre', { required: true, message: 'Requerido' })}\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tplaceholder='Descripción'\r\n\t\t\t\t\t{...register('descripcion', {\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: 'Campo requerido',\r\n\t\t\t\t\t})}\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tplaceholder='Dirección'\r\n\t\t\t\t\t{...register('direccion', { required: true })}\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tplaceholder='Nombre Creador'\r\n\t\t\t\t\t{...register('nombreCreador', { required: true }, 'Campo requerido')}\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tplaceholder='Localización'\r\n\t\t\t\t\t{...register('localizacion')}\r\n\t\t\t\t/>\r\n\t\t\t\t<button className=\"btn-form\" type='submit'>Guardar datos</button>\r\n\t\t\t</form>\r\n\t\t</Card>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default NuevoDestino;\r\n"]},"metadata":{},"sourceType":"module"}