{"ast":null,"code":"import _slicedToArray from\"/Users/miguelangelmanzano/Desktop/CODES M-A/React-Mongo/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{React,useState}from\"react\";import{BrowserRouter as Router,Route,Redirect,Switch}from\"react-router-dom\";import Usuarios from\"./pages/Usuarios\";import NuevoDestino from\"./pages/NuevoDestino\";import Navbar from\"./components/Navbar\";import Auth from\"./pages/Auth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),tieneAcceso=_useState2[0],setTieneAcceso=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),datos=_useState4[0],setDatos=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),token=_useState6[0],setToken=_useState6[1];// Traemos desde el componente Auth los datos del usuario enviados desde el servidor mediante esta funci칩n prop\nvar gestionarAcceso=function gestionarAcceso(dato){setDatos(dato);// datos del usuario: email, password y token\nsetTieneAcceso(true);// La variable que indica que est치 logueado se pone a true\nsetToken(dato.token);// Por si fuera necesario\n// localStorage.setItem(\n//   \"datosUsuario\",\n//   JSON.stringify(dato({ userId: dato.userId, token: dato.token }))\n// );\n};// const gestionarLogout = () => {\n//   setToken(null);\n//   setTieneAcceso(false);\n// };\n// useEffect(() => {\n//   const datosRecuperar = JSON.parse(localStorage.getItem(\"datosUsuario\"));\n//   if (datosRecuperar && datosRecuperar.token) {\n//     setToken(datosRecuperar.token);\n//   }\n//   console.log(datosRecuperar);\n// }, []);\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"listado\",children:/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",children:/*#__PURE__*/_jsx(Usuarios,{})}),/*#__PURE__*/_jsx(Route,{path:\"/destinos/nuevodestino\",children:/*#__PURE__*/_jsx(NuevoDestino,{acceso:tieneAcceso,datos:datos})}),/*#__PURE__*/_jsx(Route,{path:\"/auth\",children:/*#__PURE__*/_jsx(Auth,{gestionarAcceso:gestionarAcceso})}),/*#__PURE__*/_jsx(Redirect,{to:\"/\"})]})]})});};export default App;","map":{"version":3,"sources":["/Users/miguelangelmanzano/Desktop/CODES M-A/React-Mongo/Frontend/src/App.js"],"names":["React","useState","BrowserRouter","Router","Route","Redirect","Switch","Usuarios","NuevoDestino","Navbar","Auth","App","tieneAcceso","setTieneAcceso","datos","setDatos","token","setToken","gestionarAcceso","dato"],"mappings":"uLAAA,OAASA,KAAT,CAAgBC,QAAhB,KAAgC,OAAhC,CACA,OACEC,aAAa,GAAIC,CAAAA,MADnB,CAEEC,KAFF,CAGEC,QAHF,CAIEC,MAJF,KAKO,kBALP,CAMA,MAAOC,CAAAA,QAAP,KAAqB,kBAArB,CACA,MAAOC,CAAAA,YAAP,KAAyB,sBAAzB,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,IAAP,KAAiB,cAAjB,C,wFAEA,GAAMC,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,EAAM,eACsBV,QAAQ,CAAC,KAAD,CAD9B,wCACTW,WADS,eACIC,cADJ,8BAEUZ,QAAQ,CAAC,EAAD,CAFlB,yCAETa,KAFS,eAEFC,QAFE,8BAGUd,QAAQ,EAHlB,yCAGTe,KAHS,eAGFC,QAHE,eAKhB;AACA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,IAAD,CAAU,CAChCJ,QAAQ,CAACI,IAAD,CAAR,CAAgB;AAChBN,cAAc,CAAC,IAAD,CAAd,CAAsB;AACtBI,QAAQ,CAACE,IAAI,CAACH,KAAN,CAAR,CAAsB;AACtB;AACA;AACA;AACA;AACD,CARD,CAUA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,mBACE,YAAK,SAAS,CAAC,SAAf,uBACA,MAAC,MAAD,yBACE,KAAC,MAAD,IADF,cAEE,MAAC,MAAD,yBACE,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,GAAlB,uBACE,KAAC,QAAD,IADF,EADF,cAIE,KAAC,KAAD,EAAO,IAAI,CAAC,wBAAZ,uBACE,KAAC,YAAD,EAAc,MAAM,CAAEJ,WAAtB,CAAmC,KAAK,CAAEE,KAA1C,EADF,EAJF,cAOE,KAAC,KAAD,EAAO,IAAI,CAAC,OAAZ,uBACE,KAAC,IAAD,EAAM,eAAe,CAAEI,eAAvB,EADF,EAPF,cAUE,KAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EAVF,GAFF,GADA,EADF,CAmBD,CAhDD,CAiDA,cAAeP,CAAAA,GAAf","sourcesContent":["import { React, useState } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Route,\n  Redirect,\n  Switch,\n} from \"react-router-dom\";\nimport Usuarios from \"./pages/Usuarios\";\nimport NuevoDestino from \"./pages/NuevoDestino\";\nimport Navbar from \"./components/Navbar\";\nimport Auth from \"./pages/Auth\";\n\nconst App = () => {\n  const [tieneAcceso, setTieneAcceso] = useState(false);\n  const [datos, setDatos] = useState({});\n  const [token, setToken] = useState();\n\n  // Traemos desde el componente Auth los datos del usuario enviados desde el servidor mediante esta funci칩n prop\n  const gestionarAcceso = (dato) => {\n    setDatos(dato); // datos del usuario: email, password y token\n    setTieneAcceso(true); // La variable que indica que est치 logueado se pone a true\n    setToken(dato.token); // Por si fuera necesario\n    // localStorage.setItem(\n    //   \"datosUsuario\",\n    //   JSON.stringify(dato({ userId: dato.userId, token: dato.token }))\n    // );\n  };\n\n  // const gestionarLogout = () => {\n  //   setToken(null);\n  //   setTieneAcceso(false);\n  // };\n\n  // useEffect(() => {\n  //   const datosRecuperar = JSON.parse(localStorage.getItem(\"datosUsuario\"));\n  //   if (datosRecuperar && datosRecuperar.token) {\n  //     setToken(datosRecuperar.token);\n  //   }\n  //   console.log(datosRecuperar);\n  // }, []);\n\n  return (\n    <div className=\"listado\">\n    <Router>\n      <Navbar />\n      <Switch>\n        <Route exact path=\"/\">\n          <Usuarios />\n        </Route>\n        <Route path=\"/destinos/nuevodestino\">\n          <NuevoDestino acceso={tieneAcceso} datos={datos} />\n        </Route>\n        <Route path=\"/auth\">\n          <Auth gestionarAcceso={gestionarAcceso} />\n        </Route>\n        <Redirect to=\"/\" />\n      </Switch>\n    </Router>\n    </div>\n  );\n};\nexport default App;\n"]},"metadata":{},"sourceType":"module"}