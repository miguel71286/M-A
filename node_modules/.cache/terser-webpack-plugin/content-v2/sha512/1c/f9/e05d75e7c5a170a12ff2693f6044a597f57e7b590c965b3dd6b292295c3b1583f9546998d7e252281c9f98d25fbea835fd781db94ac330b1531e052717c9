{"code":"(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{40:function(e,t,a){},41:function(e,t,a){},43:function(e,t,a){},45:function(e,t,a){},64:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){\"use strict\";a.r(t);var n=a(0),c=a(33),r=a.n(c),s=(a(39),a(40),a(8)),i=a(15),o=a(3),l=(a(41),a(1)),d=function(e){return Object(l.jsx)(\"div\",{})},j=(a(43),function(e){return Object(l.jsx)(\"div\",{children:Object(l.jsx)(\"ul\",{children:Object(l.jsx)(d,{})})})}),u=function(){return Object(l.jsx)(\"div\",{children:Object(l.jsx)(j,{})})},b=a(11),p=a(2),m=a.n(p),h=a(5),O=a(19),x=(a(45),function(e){return Object(l.jsx)(\"div\",{className:\"card \".concat(e.className),style:e.style,children:e.children})}),f=a(18),v=a.n(f),g=function(e){e.tieneAcceso;var t=e.datos,a=Object(O.a)(),n=a.register,c=a.handleSubmit,r=(a.setValue,a.formState.errors,function(){var e=Object(h.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post(\"miguel-angel.herokuapp.com/api/destinos\",{nombre:a.nombre,descripcion:a.descripcion,direccion:a.direccion,creador:a.nombreCreador,loacalizacion:{}},{headers:{Authorization:\"Bearer \"+t.token}}).then((function(e){console.log(\"Todo correcto\",e.data)})).catch((function(e){console.log(e.response.data)}));case 2:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(l.jsx)(\"div\",{children:Object(l.jsxs)(x,{className:\"authentication\",children:[Object(l.jsx)(\"h2\",{children:\"Datos del destino\"}),Object(l.jsxs)(\"form\",{className:\"card\",onSubmit:c(r),children:[Object(l.jsx)(\"input\",Object(b.a)({type:\"text\",placeholder:\"Nombre\"},n(\"nombre\",{required:!0,message:\"Requerido\"}))),Object(l.jsx)(\"input\",Object(b.a)({type:\"text\",placeholder:\"Descripci\\xf3n\"},n(\"descripcion\",{required:!0,message:\"Campo requerido\"}))),Object(l.jsx)(\"input\",Object(b.a)({type:\"text\",placeholder:\"Direcci\\xf3n\"},n(\"direccion\",{required:!0}))),Object(l.jsx)(\"input\",Object(b.a)({type:\"text\",placeholder:\"Nombre Creador\"},n(\"nombreCreador\",{required:!0},\"Campo requerido\"))),Object(l.jsx)(\"input\",Object(b.a)({type:\"text\",placeholder:\"Localizaci\\xf3n\"},n(\"localizacion\"))),Object(l.jsx)(\"button\",{className:\"btn-form\",type:\"submit\",children:\"Guardar datos\"})]})]})})},N=(a(64),function(){return Object(l.jsx)(\"div\",{id:\"barra-nav\",className:\"navbar navbar-expand-lg navbar-light bg-alert\",children:Object(l.jsx)(\"div\",{className:\"navbar navbar-light bg-alert\",children:Object(l.jsxs)(\"ul\",{className:\"navbar-nav me-auto mb-2 mb-lg-2\",children:[Object(l.jsx)(\"li\",{className:\"nav-item\",children:Object(l.jsx)(i.b,{className:\"nav-link active\",\"aria-current\":\"page\",to:\"/\",children:\"Inicio\"})}),Object(l.jsx)(\"li\",{className:\"nav-item\",children:Object(l.jsx)(i.b,{className:\"nav-link\",to:\"/destinos/nuevodestino\",children:\"Destinos\"})}),Object(l.jsx)(\"li\",{className:\"nav-item\",children:Object(l.jsx)(i.b,{className:\"nav-link\",to:\"/auth\",children:\"Autenticar\"})})]})})})});a(70);function y(e){var t=e.gestionarAcceso,a=Object(n.useState)(!1),c=Object(s.a)(a,2),r=c[0],i=c[1],o=Object(O.a)(),d=o.register,j=o.handleSubmit,u=o.setValue,p=o.formState.errors,f=function(){var e=Object(h.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(a),r){e.next=6;break}return e.next=4,v.a.post(\"miguel-angel.herokuapp.com/api/usuarios/alta\",{nombre:a.nombre,email:a.email,password:a.password}).then((function(e){console.log(\"Usuario creado\"),t(e.data)})).catch((function(e){console.log(e.response.data)}));case 4:e.next=8;break;case 6:return e.next=8,v.a.post(\"miguel-angel.herokuapp.com/api/usuarios/login\",{email:a.email,password:a.password}).then((function(e){console.log(\"Login Correcto\"),t(e.data)})).catch((function(e){console.log(e)}));case 8:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsx)(\"div\",{children:Object(l.jsxs)(x,{className:\"authentication\",children:[Object(l.jsx)(\"h2\",{children:r?\"Login necesario\":\"Introduzca datos de alta\"}),Object(l.jsxs)(\"form\",{className:\"card\",onSubmit:j(f),children:[!r&&Object(l.jsx)(\"input\",Object(b.a)({type:\"text\",placeholder:\"Nombre de Usuario.\"},d(\"nombre\",{required:!0,message:\"Requerido\"}))),Object(l.jsx)(\"input\",Object(b.a)({type:\"text\",placeholder:\"Email\"},d(\"email\",{required:!0,pattern:/^\\S+@\\S+$/i}))),p.email&&\"required\"===p.email.type&&Object(l.jsx)(\"span\",{children:\"Se requiere e-mail v\\xe1lido\"}),p.email&&\"pattern\"===p.email.type&&Object(l.jsx)(\"span\",{children:\"Se requiere e-mail v\\xe1lido\"}),Object(l.jsx)(\"input\",Object(b.a)({type:\"password\",placeholder:\"Contrase\\xf1a\"},d(\"password\",{required:!0,minLength:6}))),p.password&&\"required\"===p.password.type&&Object(l.jsx)(\"span\",{children:\"Se requiere contrase\\xf1a\"}),p.password&&\"minLength\"===p.password.type&&Object(l.jsx)(\"span\",{children:\"M\\xednimo de 6 caracteres\"}),Object(l.jsxs)(\"button\",{className:\"btn-form\",type:\"submit\",children:[r?\"ACCESO\":\"ALTA\",\" \"]})]}),Object(l.jsxs)(\"button\",{className:\"btn-cambia\",onClick:function(){r||u(\"Nombre\",void 0),i(!r)},children:[\"CAMBIAR A \",r?\"ALTA\":\"ACCESO\"]})]})})}var S=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)({}),d=Object(s.a)(r,2),j=d[0],b=d[1],p=Object(n.useState)(),m=Object(s.a)(p,2),h=(m[0],m[1]);return Object(l.jsx)(\"div\",{className:\"listado\",children:Object(l.jsxs)(i.a,{children:[Object(l.jsx)(N,{}),Object(l.jsxs)(o.d,{children:[Object(l.jsx)(o.b,{exact:!0,path:\"/\",children:Object(l.jsx)(u,{})}),Object(l.jsx)(o.b,{path:\"/destinos/nuevodestino\",children:Object(l.jsx)(g,{acceso:a,datos:j})}),Object(l.jsx)(o.b,{path:\"/auth\",children:Object(l.jsx)(y,{gestionarAcceso:function(e){b(e),c(!0),h(e.token)}})}),Object(l.jsx)(o.a,{to:\"/\"})]})]})})};r.a.render(Object(l.jsx)(S,{}),document.getElementById(\"root\"))}},[[71,1,2]]]);","name":"static/js/main.1d62962a.chunk.js","map":{"version":3,"sources":["static/js/main.1d62962a.chunk.js"],"names":["this","push","40","module","exports","__webpack_require__","41","43","45","64","70","71","__webpack_exports__","r","react","react_dom","react_dom_default","n","slicedToArray","react_router_dom","react_router","jsx_runtime","src_components_UserItem","props","Object","src_components_UsersList","children","pages_Usuarios","objectSpread2","regenerator","regenerator_default","asyncToGenerator","index_esm","src_components_Card","className","concat","style","axios","axios_default","pages_NuevoDestino","tieneAcceso","datos","_useForm","register","handleSubmit","onSubmit","setValue","formState","errors","_ref","a","mark","_callee","data","wrap","_context","prev","next","post","nombre","descripcion","direccion","creador","nombreCreador","loacalizacion","headers","Authorization","token","then","response","console","log","catch","error","stop","_x","apply","arguments","type","placeholder","required","message","components_Navbar","id","aria-current","to","Auth_Auth","gestionarAcceso","_useState","_useState2","setTieneAcceso","email","password","pattern","minLength","onClick","undefined","src_App","_useState3","_useState4","setDatos","_useState5","_useState6","setToken","exact","path","acceso","dato","render","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpfrontend\"] = this[\"webpackJsonpfrontend\"] || []).push([[0],{\n\n/***/ 40:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 41:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 43:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 45:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 64:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 70:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 71:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(33);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/bootstrap/dist/css/bootstrap.min.css\nvar bootstrap_min = __webpack_require__(39);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(40);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(15);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./src/components/UserItem.css\nvar components_UserItem = __webpack_require__(41);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/components/UserItem.js\nvar UserItem_UserItem=function UserItem(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{});};/* harmony default export */ var src_components_UserItem = (UserItem_UserItem);\n// EXTERNAL MODULE: ./src/components/UsersList.css\nvar components_UsersList = __webpack_require__(43);\n\n// CONCATENATED MODULE: ./src/components/UsersList.jsx\nvar UsersList_UsersList=function UsersList(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"ul\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_components_UserItem,{})})});};/* harmony default export */ var src_components_UsersList = (UsersList_UsersList);\n// CONCATENATED MODULE: ./src/pages/Usuarios.js\nvar Usuarios_Usuarios=function Usuarios(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_components_UsersList,{})});};/* harmony default export */ var pages_Usuarios = (Usuarios_Usuarios);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(2);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./node_modules/react-hook-form/dist/index.esm.js + 7 modules\nvar index_esm = __webpack_require__(19);\n\n// EXTERNAL MODULE: ./src/components/Card.css\nvar components_Card = __webpack_require__(45);\n\n// CONCATENATED MODULE: ./src/components/Card.js\nvar Card_Card=function Card(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"card \".concat(props.className),style:props.style,children:props.children});};/* harmony default export */ var src_components_Card = (Card_Card);\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(18);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// CONCATENATED MODULE: ./src/pages/NuevoDestino.js\nvar NuevoDestino_NuevoDestino=function NuevoDestino(props){var tieneAcceso=props.tieneAcceso,datos=props.datos;var _useForm=Object(index_esm[\"a\" /* useForm */])(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,setValue=_useForm.setValue,errors=_useForm.formState.errors;var onSubmit=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(data){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios_default.a.post(\"miguel-angel.herokuapp.com/api\"+'/destinos',{nombre:data.nombre,descripcion:data.descripcion,direccion:data.direccion,creador:data.nombreCreador,// del prop enviado desde App.js extraemos el userId (en datos están todos los datos del token recibido desde el servidor cuando el usuario entró en su cuenta)\nloacalizacion:{}},{headers:{Authorization:'Bearer '+datos.token// En los headers van 'Bearer ' + token recibido\n}}).then(function(response){console.log('Todo correcto',response.data);}).catch(function(error){console.log(error.response.data);});case 2:case\"end\":return _context.stop();}}},_callee);}));return function onSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(src_components_Card,{className:\"authentication\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Datos del destino\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"card\",onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",Object(objectSpread2[\"a\" /* default */])({type:\"text\",placeholder:\"Nombre\"},register('nombre',{required:true,message:'Requerido'}))),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",Object(objectSpread2[\"a\" /* default */])({type:\"text\",placeholder:\"Descripci\\xF3n\"},register('descripcion',{required:true,message:'Campo requerido'}))),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",Object(objectSpread2[\"a\" /* default */])({type:\"text\",placeholder:\"Direcci\\xF3n\"},register('direccion',{required:true}))),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",Object(objectSpread2[\"a\" /* default */])({type:\"text\",placeholder:\"Nombre Creador\"},register('nombreCreador',{required:true},'Campo requerido'))),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",Object(objectSpread2[\"a\" /* default */])({type:\"text\",placeholder:\"Localizaci\\xF3n\"},register('localizacion'))),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn-form\",type:\"submit\",children:\"Guardar datos\"})]})]})});};/* harmony default export */ var pages_NuevoDestino = (NuevoDestino_NuevoDestino);\n// EXTERNAL MODULE: ./src/components/NavLinks.css\nvar NavLinks = __webpack_require__(64);\n\n// CONCATENATED MODULE: ./src/components/Navbar.jsx\nvar Navbar_Navbar=function Navbar(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"barra-nav\",className:\"navbar navbar-expand-lg navbar-light bg-alert\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"navbar navbar-light bg-alert\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"ul\",{className:\"navbar-nav me-auto mb-2 mb-lg-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"nav-item\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{className:\"nav-link active\",\"aria-current\":\"page\",to:\"/\",children:\"Inicio\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"nav-item\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{className:\"nav-link\",to:\"/destinos/nuevodestino\",children:\"Destinos\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"nav-item\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{className:\"nav-link\",to:\"/auth\",children:\"Autenticar\"})})]})})});};/* harmony default export */ var components_Navbar = (Navbar_Navbar);\n// EXTERNAL MODULE: ./src/pages/Auth.css\nvar Auth = __webpack_require__(70);\n\n// CONCATENATED MODULE: ./src/pages/Auth.js\nfunction Auth_Auth(props){var gestionarAcceso=props.gestionarAcceso;// función que usamos para pasar los datos del servidor a la App principal\nvar _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),tieneAcceso=_useState2[0],setTieneAcceso=_useState2[1];// variable de estado que indica si el usuario existe o no en la base de datos.\nvar _useForm=Object(index_esm[\"a\" /* useForm */])(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,setValue=_useForm.setValue,errors=_useForm.formState.errors;// hook del formulario para 'react-hook-form'\nvar gestorDeCambioDeModo=function gestorDeCambioDeModo(){if(!tieneAcceso){setValue('Nombre',undefined);}setTieneAcceso(!tieneAcceso);};var onSubmit=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(data){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// Envío de los datos del formulario ( data ) al servidor\nconsole.log(data);if(tieneAcceso){_context.next=6;break;}_context.next=4;return axios_default.a.post(\"miguel-angel.herokuapp.com/api\"+'/usuarios/alta',{// endpoint de la API de nuestro servidor\nnombre:data.nombre,// dato extraído del formulario\nemail:data.email,// dato extraído del formulario\npassword:data.password// dato extraído del formulario\n}).then(function(response){console.log('Usuario creado');// Si se recibe este mensaje en consola es que se ha dado de alta correctamente\ngestionarAcceso(response.data);// enviamos a la App la respuesta del servidor, que contiene el token creado por este, el e-mail y el password del usuario.\n}).catch(function(error){console.log(error.response.data);});case 4:_context.next=8;break;case 6:_context.next=8;return axios_default.a.post(\"miguel-angel.herokuapp.com/api\"+'/usuarios/login',{email:data.email,password:data.password}).then(function(response){console.log('Login Correcto');gestionarAcceso(response.data);// enviamos a la App la respuesta del servidor, que contiene el token creado por este\n}).catch(function(error){console.log(error);});case 8:case\"end\":return _context.stop();}}},_callee);}));return function onSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(src_components_Card,{className:\"authentication\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:tieneAcceso?'Login necesario':'Introduzca datos de alta'}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"card\",onSubmit:handleSubmit(onSubmit),children:[!tieneAcceso&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",Object(objectSpread2[\"a\" /* default */])({type:\"text\",placeholder:\"Nombre de Usuario.\"},register('nombre',{required:true,message:'Requerido'}))),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",Object(objectSpread2[\"a\" /* default */])({type:\"text\",placeholder:\"Email\"},register('email',{required:true,pattern:/^\\S+@\\S+$/i}))),errors.email&&errors.email.type==='required'&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"Se requiere e-mail v\\xE1lido\"}),errors.email&&errors.email.type==='pattern'&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"Se requiere e-mail v\\xE1lido\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",Object(objectSpread2[\"a\" /* default */])({type:\"password\",placeholder:\"Contrase\\xF1a\"},register('password',{required:true,minLength:6}))),errors.password&&errors.password.type==='required'&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"Se requiere contrase\\xF1a\"}),errors.password&&errors.password.type==='minLength'&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"M\\xEDnimo de 6 caracteres\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{className:\"btn-form\",type:\"submit\",children:[tieneAcceso?'ACCESO':'ALTA',\" \"]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{className:\"btn-cambia\",onClick:gestorDeCambioDeModo,children:[\"CAMBIAR A \",tieneAcceso?'ALTA':'ACCESO']})]})});}\n// CONCATENATED MODULE: ./src/App.js\nvar App_App=function App(){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),tieneAcceso=_useState2[0],setTieneAcceso=_useState2[1];var _useState3=Object(react[\"useState\"])({}),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),datos=_useState4[0],setDatos=_useState4[1];var _useState5=Object(react[\"useState\"])(),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),token=_useState6[0],setToken=_useState6[1];// Traemos desde el componente Auth los datos del usuario enviados desde el servidor mediante esta función prop\nvar gestionarAcceso=function gestionarAcceso(dato){setDatos(dato);// datos del usuario: email, password y token\nsetTieneAcceso(true);// La variable que indica que está logueado se pone a true\nsetToken(dato.token);// Por si fuera necesario\n// localStorage.setItem(\n//   \"datosUsuario\",\n//   JSON.stringify(dato({ userId: dato.userId, token: dato.token }))\n// );\n};// const gestionarLogout = () => {\n//   setToken(null);\n//   setTieneAcceso(false);\n// };\n// useEffect(() => {\n//   const datosRecuperar = JSON.parse(localStorage.getItem(\"datosUsuario\"));\n//   if (datosRecuperar && datosRecuperar.token) {\n//     setToken(datosRecuperar.token);\n//   }\n//   console.log(datosRecuperar);\n// }, []);\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"listado\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Navbar,{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"d\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_Usuarios,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/destinos/nuevodestino\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_NuevoDestino,{acceso:tieneAcceso,datos:datos})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/auth\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Auth_Auth,{gestionarAcceso:gestionarAcceso})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/\"})]})]})});};/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{}),document.getElementById('root'));\n\n/***/ })\n\n},[[71,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/miguelangelmanzano/Desktop/CODES M-A/React-Mongo/Frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/miguelangelmanzano/Desktop/CODES M-A/React-Mongo/Frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/miguelangelmanzano/Desktop/CODES M-A/React-Mongo/Frontend/node_modules/postcss-loader/src/index.js??postcss!/Users/miguelangelmanzano/Desktop/CODES M-A/React-Mongo/Frontend/src/index.css","/Users/miguelangelmanzano/Desktop/CODES M-A/React-Mongo/Frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/miguelangelmanzano/Desktop/CODES M-A/React-Mongo/Frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/miguelangelmanzano/Desktop/CODES M-A/React-Mongo/Frontend/node_modules/postcss-loader/src/index.js??postcss!/Users/miguelangelmanzano/Desktop/CODES M-A/React-Mongo/Frontend/src/components/UserItem.css","/Users/miguelangelmanzano/Desktop/CODES M-A/React-Mongo/Frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/miguelangelmanzano/Desktop/CODES M-A/React-Mongo/Frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/miguelangelmanzano/Desktop/CODES M-A/React-Mongo/Frontend/node_modules/postcss-loader/src/index.js??postcss!/Users/miguelangelmanzano/Desktop/CODES M-A/React-Mongo/Frontend/src/components/UsersList.css","/Users/miguelangelmanzano/Desktop/CODES M-A/React-Mongo/Frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/miguelangelmanzano/Desktop/CODES M-A/React-Mongo/Frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/miguelangelmanzano/Desktop/CODES M-A/React-Mongo/Frontend/node_modules/postcss-loader/src/index.js??postcss!/Users/miguelangelmanzano/Desktop/CODES M-A/React-Mongo/Frontend/src/components/Card.css","/Users/miguelangelmanzano/Desktop/CODES M-A/React-Mongo/Frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/miguelangelmanzano/Desktop/CODES M-A/React-Mongo/Frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/miguelangelmanzano/Desktop/CODES M-A/React-Mongo/Frontend/node_modules/postcss-loader/src/index.js??postcss!/Users/miguelangelmanzano/Desktop/CODES M-A/React-Mongo/Frontend/src/components/NavLinks.css","/Users/miguelangelmanzano/Desktop/CODES M-A/React-Mongo/Frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/miguelangelmanzano/Desktop/CODES M-A/React-Mongo/Frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/miguelangelmanzano/Desktop/CODES M-A/React-Mongo/Frontend/node_modules/postcss-loader/src/index.js??postcss!/Users/miguelangelmanzano/Desktop/CODES M-A/React-Mongo/Frontend/src/pages/Auth.css","/Users/miguelangelmanzano/Desktop/CODES M-A/React-Mongo/Frontend/src/components/UserItem.js","/Users/miguelangelmanzano/Desktop/CODES M-A/React-Mongo/Frontend/src/components/UsersList.jsx","/Users/miguelangelmanzano/Desktop/CODES M-A/React-Mongo/Frontend/src/pages/Usuarios.js","/Users/miguelangelmanzano/Desktop/CODES M-A/React-Mongo/Frontend/src/components/Card.js","/Users/miguelangelmanzano/Desktop/CODES M-A/React-Mongo/Frontend/src/pages/NuevoDestino.js","/Users/miguelangelmanzano/Desktop/CODES M-A/React-Mongo/Frontend/src/components/Navbar.jsx","/Users/miguelangelmanzano/Desktop/CODES M-A/React-Mongo/Frontend/src/pages/Auth.js","/Users/miguelangelmanzano/Desktop/CODES M-A/React-Mongo/Frontend/src/App.js","/Users/miguelangelmanzano/Desktop/CODES M-A/React-Mongo/Frontend/src/index.js"],"names":["UserItem","props","UsersList","Usuarios","Card","className","style","children","NuevoDestino","tieneAcceso","datos","useForm","register","handleSubmit","setValue","errors","formState","onSubmit","data","axios","post","process","nombre","descripcion","direccion","creador","nombreCreador","loacalizacion","headers","Authorization","token","then","response","console","log","catch","error","required","message","Navbar","Auth","gestionarAcceso","useState","setTieneAcceso","gestorDeCambioDeModo","undefined","email","password","pattern","type","minLength","App","setDatos","setToken","dato","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import React from 'react';\r\nimport './UserItem.css';\r\n\r\n\r\nconst UserItem = (props) => {\r\n  return (\r\n    <div>\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserItem\r\n","import React from 'react';\r\nimport UserItem from './UserItem';\r\nimport './UsersList.css';\r\n\r\n\r\nconst UsersList = (props) => {\r\n  \r\n  return (\r\n    <div>\r\n      <ul>\r\n        <UserItem />\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UsersList\r\n","import React from 'react';\r\nimport UsersList from '../components/UsersList';\r\n\r\nconst Usuarios = () => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<UsersList />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Usuarios;\r\n","import React from 'react';\n\nimport './Card.css';\n\nconst Card = props => {\n  return (\n    <div className={`card ${props.className}`} style={props.style}>\n      {props.children}\n    </div>\n  );\n};\n\nexport default Card;\n","import { React, useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport Card from '../components/Card';\r\nimport axios from 'axios';\r\n\r\nconst NuevoDestino = (props) => {\r\n\tconst { tieneAcceso, datos } = props;\r\n\r\n\tconst {\r\n\t\tregister,\r\n\t\thandleSubmit,\r\n\t\tsetValue,\r\n\t\tformState: { errors },\r\n\t} = useForm();\r\n\r\n\tconst onSubmit = async (data) => { \r\n\t\tawait axios\r\n\t\t\t.post(\r\n\t\t\t\tprocess.env.REACT_APP_BACKEND_URL + '/destinos',\r\n\t\t\t\t{\r\n\t\t\t\t\tnombre: data.nombre,\r\n\t\t\t\t\tdescripcion: data.descripcion,\r\n\t\t\t\t\tdireccion: data.direccion,\r\n\t\t\t\t\tcreador: data.nombreCreador, // del prop enviado desde App.js extraemos el userId (en datos están todos los datos del token recibido desde el servidor cuando el usuario entró en su cuenta)\r\n\t\t\t\t\tloacalizacion: {},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: 'Bearer ' + datos.token, // En los headers van 'Bearer ' + token recibido\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((response) => {\r\n\t\t\t\tconsole.log('Todo correcto', response.data);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.log(error.response.data);\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t<Card className='authentication'>\r\n\t\t\t<h2>Datos del destino</h2>\r\n\t\t\t<form className='card' onSubmit={handleSubmit(onSubmit)}>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tplaceholder='Nombre'\r\n\t\t\t\t\t{...register('nombre', { required: true, message: 'Requerido' })}\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tplaceholder='Descripción'\r\n\t\t\t\t\t{...register('descripcion', {\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: 'Campo requerido',\r\n\t\t\t\t\t})}\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tplaceholder='Dirección'\r\n\t\t\t\t\t{...register('direccion', { required: true })}\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tplaceholder='Nombre Creador'\r\n\t\t\t\t\t{...register('nombreCreador', { required: true }, 'Campo requerido')}\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tplaceholder='Localización'\r\n\t\t\t\t\t{...register('localizacion')}\r\n\t\t\t\t/>\r\n\t\t\t\t<button className=\"btn-form\" type='submit'>Guardar datos</button>\r\n\t\t\t</form>\r\n\t\t</Card>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default NuevoDestino;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './NavLinks.css'\r\n\r\nconst Navbar = () => {\r\n\treturn (\r\n\t\t<div id=\"barra-nav\" className='navbar navbar-expand-lg navbar-light bg-alert'>\r\n\t\t\t<div className='navbar navbar-light bg-alert'>\r\n\t\t\t\t<ul  className='navbar-nav me-auto mb-2 mb-lg-2'>\r\n\t\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t\t<Link className='nav-link active' aria-current='page' to='/'>\r\n\t\t\t\t\t\t\tInicio\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t\t<Link className='nav-link' to='/destinos/nuevodestino'>\r\n\t\t\t\t\t\t\tDestinos\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t\t<Link className='nav-link' to='/auth'>\r\n\t\t\t\t\t\t\tAutenticar\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Navbar;\r\n","import React, { useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport './Auth.css';\r\nimport Card from '../components/Card';\r\nimport axios from 'axios';\r\n\r\nexport default function Auth(props) {\r\n\tconst { gestionarAcceso } = props; // función que usamos para pasar los datos del servidor a la App principal\r\n\tconst [tieneAcceso, setTieneAcceso] = useState(false); // variable de estado que indica si el usuario existe o no en la base de datos.\r\n\r\n\tconst {\r\n\t\tregister,\r\n\t\thandleSubmit,\r\n\t\tsetValue,\r\n\t\tformState: { errors },\r\n\t} = useForm(); // hook del formulario para 'react-hook-form'\r\n\r\n\tconst gestorDeCambioDeModo = () => { \r\n\t\tif (!tieneAcceso) {\r\n\t\t\tsetValue('Nombre', undefined);\r\n\t\t}\r\n\t\tsetTieneAcceso(!tieneAcceso);\r\n\t};\r\n\r\n\tconst onSubmit = async (data) => {\r\n\t\t// Envío de los datos del formulario ( data ) al servidor\r\n\t\tconsole.log(data);\r\n\t\tif (!tieneAcceso) {\r\n\t\t\tawait axios\r\n\t\t\t\t.post(process.env.REACT_APP_BACKEND_URL + '/usuarios/alta', {\r\n\t\t\t\t\t// endpoint de la API de nuestro servidor\r\n\t\t\t\t\tnombre: data.nombre, // dato extraído del formulario\r\n\t\t\t\t\temail: data.email, // dato extraído del formulario\r\n\t\t\t\t\tpassword: data.password, // dato extraído del formulario\r\n\t\t\t\t})\r\n\t\t\t\t.then((response) => {\r\n\t\t\t\t\tconsole.log('Usuario creado'); // Si se recibe este mensaje en consola es que se ha dado de alta correctamente\r\n\t\t\t\t\tgestionarAcceso(response.data); // enviamos a la App la respuesta del servidor, que contiene el token creado por este, el e-mail y el password del usuario.\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tconsole.log(error.response.data);\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tawait axios\r\n\t\t\t\t.post(process.env.REACT_APP_BACKEND_URL +'/usuarios/login', {\r\n\t\t\t\t\temail: data.email,\r\n\t\t\t\t\tpassword: data.password,\r\n\t\t\t\t})\r\n\t\t\t\t.then((response) => {\r\n\t\t\t\t\tconsole.log('Login Correcto');\r\n\t\t\t\t\tgestionarAcceso(response.data); // enviamos a la App la respuesta del servidor, que contiene el token creado por este\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t<Card className='authentication'>\r\n\t\t\t<h2>{tieneAcceso ? 'Login necesario' : 'Introduzca datos de alta'}</h2>\r\n\t\t\t<form className='card' onSubmit={handleSubmit(onSubmit)}>\r\n\t\t\t\t{!tieneAcceso && (\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tplaceholder='Nombre de Usuario.'\r\n\t\t\t\t\t\t{...register('nombre', { required: true, message: 'Requerido' })}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tplaceholder='Email'\r\n\t\t\t\t\t{...register('email', { required: true, pattern: /^\\S+@\\S+$/i })}\r\n\t\t\t\t/>\r\n\t\t\t\t{errors.email && errors.email.type === 'required' && (\r\n\t\t\t\t\t<span>Se requiere e-mail válido</span>\r\n\t\t\t\t)}\r\n\t\t\t\t{errors.email && errors.email.type === 'pattern' && (\r\n\t\t\t\t\t<span>Se requiere e-mail válido</span>\r\n\t\t\t\t)}\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='password'\r\n\t\t\t\t\tplaceholder='Contraseña'\r\n\t\t\t\t\t{...register('password', { required: true, minLength: 6 })}\r\n\t\t\t\t/>\r\n\t\t\t\t{errors.password && errors.password.type === 'required' && (\r\n\t\t\t\t\t<span>Se requiere contraseña</span>\r\n\t\t\t\t)}\r\n\t\t\t\t{errors.password && errors.password.type === 'minLength' && (\r\n\t\t\t\t\t<span>Mínimo de 6 caracteres</span>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<button className=\"btn-form\" type='submit'>{tieneAcceso ? 'ACCESO' : 'ALTA'} </button>\r\n\t\t\t</form>\r\n\t\t\t<button className=\"btn-cambia\" onClick={gestorDeCambioDeModo}>\r\n\t\t\t\tCAMBIAR A {tieneAcceso ? 'ALTA' : 'ACCESO'}\r\n\t\t\t</button>\r\n\t\t</Card>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import { React, useState } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Route,\n  Redirect,\n  Switch,\n} from \"react-router-dom\";\nimport Usuarios from \"./pages/Usuarios\";\nimport NuevoDestino from \"./pages/NuevoDestino\";\nimport Navbar from \"./components/Navbar\";\nimport Auth from \"./pages/Auth\";\n\nconst App = () => {\n  const [tieneAcceso, setTieneAcceso] = useState(false);\n  const [datos, setDatos] = useState({});\n  const [token, setToken] = useState();\n\n  // Traemos desde el componente Auth los datos del usuario enviados desde el servidor mediante esta función prop\n  const gestionarAcceso = (dato) => {\n    setDatos(dato); // datos del usuario: email, password y token\n    setTieneAcceso(true); // La variable que indica que está logueado se pone a true\n    setToken(dato.token); // Por si fuera necesario\n    // localStorage.setItem(\n    //   \"datosUsuario\",\n    //   JSON.stringify(dato({ userId: dato.userId, token: dato.token }))\n    // );\n  };\n\n  // const gestionarLogout = () => {\n  //   setToken(null);\n  //   setTieneAcceso(false);\n  // };\n\n  // useEffect(() => {\n  //   const datosRecuperar = JSON.parse(localStorage.getItem(\"datosUsuario\"));\n  //   if (datosRecuperar && datosRecuperar.token) {\n  //     setToken(datosRecuperar.token);\n  //   }\n  //   console.log(datosRecuperar);\n  // }, []);\n\n  return (\n    <div className=\"listado\">\n    <Router>\n      <Navbar />\n      <Switch>\n        <Route exact path=\"/\">\n          <Usuarios />\n        </Route>\n        <Route path=\"/destinos/nuevodestino\">\n          <NuevoDestino acceso={tieneAcceso} datos={datos} />\n        </Route>\n        <Route path=\"/auth\">\n          <Auth gestionarAcceso={gestionarAcceso} />\n        </Route>\n        <Redirect to=\"/\" />\n      </Switch>\n    </Router>\n    </div>\n  );\n};\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\n\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"]}}